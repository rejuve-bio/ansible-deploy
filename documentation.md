## DevOps Architecture Documentation - Rejuve Microservices Platform
## Overview
The Rejuve microservices platform implements a comprehensive DevOps architecture built on a fully automated CI/CD pipeline using GitHub Actions, Ansible automation, and Docker containerization. The system comprises 9 core microservices (Authentication Service, Annotation-query-backend,generic annotation,annotation-ui,custom atomspace builder, Hypothesis Service, AI Assistant, and Galaxy Service) plus the Biocypher KG data pipeline framework, all orchestrated through a sophisticated deployment workflow. Development begins with feature branches that undergo code review before merging into staging or production branches, which automatically triggers the CI pipeline. The CI process builds Docker images, runs comprehensive test suites, and pushes versioned images to Docker Hub registry before dispatching deployment events to the CD pipeline. The CD pipeline, running on self-hosted runners, executes Ansible playbooks that handle prerequisite checks (UV package manager, Docker, and Docker Compose), clones repositories, deploys services using environment-specific docker-compose configurations, and performs health checks with automatic rollback capabilities if deployment fails. All services communicate through a shared Docker bridge network (rejuve-services-net), with each service maintaining its own database backend: PostgreSQL for authentication data, Neo4j and MORK (accessed via Biocypher KG's data pipeline) for knowledge graph storage used by the Annotation Service, MongoDB for document storage, Qdrant for vector embeddings, and Redis for caching. The entire infrastructure is monitored through a comprehensive observability stack consisting of Prometheus for metrics collection, Loki for centralized logging, Grafana for visualization dashboards, and Alert Manager for incident notifications, ensuring high availability, rapid deployment cycles, and immediate rollback capabilities to maintain service reliability across both staging and production environments.

![CI/CD-Pipeline-Architecture](images/cicd-pipeline-architecture.svg)

## DevOps CI/CD Pipeline â€“ Executive Summary

The Rejuve DevOps pipeline delivers a fast, automated, and reliable process for building, testing, and deploying services across staging and production. The workflow begins when a developer forks the repository, creates a feature branch, and submits a Pull Request. Every PR triggers the Continuous Integration (CI) pipeline in GitHub Actions, which automatically runs lint checks, executes unit and integration tests, and builds a Docker image. Once validated, the CI system pushes a versioned image to Docker Hub, making it the official deployment artifact.

A successful CI run triggers the Continuous Delivery (CD) pipeline, executed on a self-hosted GitHub Actions runner with direct access to target servers. The CD workflow pulls the new Docker image, applies environment-specific deployment configurations, restarts services using Docker Compose, and performs automated health checks. If validation fails, an automatic rollback restores the last stable version to maintain service availability.

This CI/CD architecture provides controlled, repeatable deployments with minimal manual intervention, ensuring rapid delivery cycles, consistent environments, and a dependable promotion path from development to staging and production.

![workflow-with-microservices](images/cicd-workflow.png)
